CREATE TABLE areaAtuacao (
    idArea NUMBER(19) PRIMARY KEY,       
    nome VARCHAR2(100) NOT NULL          
);

CREATE SEQUENCE seq_area
START WITH 1
INCREMENT BY 1
NOCACHE
NOCYCLE;

CREATE OR REPLACE TRIGGER trg_area_id
BEFORE INSERT ON areaAtuacao
FOR EACH ROW
BEGIN
    IF :NEW.idArea IS NULL THEN
        SELECT seq_area.NEXTVAL
        INTO :NEW.idArea
        FROM dual;
    END IF;
END;
/

CREATE TABLE CANDIDATO (
    idcandidato NUMBER(19) PRIMARY KEY,  
    nome VARCHAR2(100) NOT NULL,          
    telefone VARCHAR2(20),                
    email VARCHAR2(100),                  
    endereco VARCHAR2(255),               
    formacao VARCHAR2(100),               
    data_nasc DATE,                       
    genero VARCHAR2(10),                  
    tempo_experiencia NUMBER(3),          
    idArea NUMBER(19),                    
    CONSTRAINT fk_area FOREIGN KEY (idArea) REFERENCES areaAtuacao(idArea)  
);

CREATE SEQUENCE seq_candidato
START WITH 1
INCREMENT BY 1
NOCACHE
NOCYCLE;

CREATE OR REPLACE TRIGGER trg_candidato_id
BEFORE INSERT ON CANDIDATO
FOR EACH ROW
BEGIN
    IF :NEW.idcandidato IS NULL THEN
        SELECT seq_candidato.NEXTVAL
        INTO :NEW.idcandidato
        FROM dual;
    END IF;
END;
/




